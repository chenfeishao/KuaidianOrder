<include file="Public:header" />
<script>
function change(k)
{
	var numName = "myInputN" + k;
	var moneyName = "myInputM" + k;
	var jineName = "jine" + k;
	num = document.getElementById(numName).value;
	money = document.getElementById(moneyName).value;
	if (num == "") num = 0;
	if (money == "") money = 0;
	document.getElementById(jineName).value = num*money;
}
function clearInfo(k)
{
	var numName = "myInputN" + k;
	var moneyName = "myInputM" + k;
	var jineName = "jine" + k;
	document.getElementById(numName).value = "";
	document.getElementById(moneyName).value = "";
	document.getElementById(jineName).value = "0";
}
</script>
</head>

<body class="metro">

    <div class="container">
        <h1>
            <a href="{:U("Index/index")}"><i class="icon-arrow-left-3 fg-darker smaller"></i></a>
           	 结算
        </h1>
		<div class="grid">
			<if condition="$list eq NULL "><b>购物车是空的</b>
   			<else/>
	            <table class="table hovered">
	                <thead>
		                <tr>
		                	<th class="text-left">序号</th>
		                    <th class="text-left">商品名称</th>
		                    <th class="text-left">规格</th>
		                    <th class="text-left">数量</th>
		                    <th class="text-left">单价</th>
		                    <th class="text-left">金额</th>
		                    <th class="text-left">操作</th>
		                </tr>
	                </thead>
					
	                <tbody>
	                	<volist name="list" id="vo">
					    	<tr>
					    		<td style="width: 50px;">{$i}</td>
					    		<td calss="span4">{$vo.goodsName}</td>
					    		<td class="right span3">
					    			<div class="input-control select">
										<select name="size" tabindex="999" onchange="clearInfo({$i})">
											<foreach name="vo['goodsInfoSize']" item="sub">
												<if condition="$vo.size eq $key"><option selected="" value="{$key}">{$sub}</option>
											        <else/><option value="{$key}">{$sub}</option>
											    </if>
											</foreach>
										</select>
									</div>
					    		</td>
					    		<td class="right span2">
					    			<div class="input-control text success-state" data-role="input-control">
	                                    <input id="myInputN{$i}" name="num" autofocus="" type="number" tabindex="1" value="{$vo.num}" oninput="change({$i});">
	                                    <button type="button" class="btn-clear"></button>
	                                </div>
					    		</td>
					    		<td class="right span2">
					    			<div class="input-control text error-state" data-role="input-control">
	                                    <input id="myInputM{$i}" name="money" type="number" tabindex="1" value="{$vo.money}" oninput="change({$i});">
	                                    <button type="button" class="btn-clear"></button>
	                                </div>
								</td>
					    		<td class="right span2">
					    			<div class="input-control text info-state" data-role="input-control">
	                                    <input id="jine{$i}" name="jine" type="number" tabindex="1" value="{$vo.jine}" disabled="">
	                                    <button type="button" class="btn-clear"></button>
	                                </div>
								</td>
								<td style="width: 70px;">
									<button class="button warning">删除</button>
								</td>
					    	</tr>
				    	</volist>
	                </tbody>
	
	                <tfoot>
	                	<th class="text-left">序号</th>
	                    <th class="text-left">商品名称</th>
	                    <th class="text-left">规格</th>
	                    <th class="text-left">数量</th>
	                    <th class="text-left">单价</th>
	                    <th class="text-left">金额</th>
	                    <th class="text-left">操作</th>
	                </tfoot>
	            </table>
            </if>
           	<div class="row">
	        </div>
		</div>
    </div>

</body>
</html>